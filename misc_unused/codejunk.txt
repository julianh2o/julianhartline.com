public static List<Path> filterImagesAndDirectories(List<Path> in) { List<Path> out = new LinkedList<Path>(); for (Path path : in) { if (!isYaml(path) || path.toFile().isDirectory()) { out.add(path); } } return out; } public static boolean isImage(Path path) { return isImage(path.getFileName().toString()); } public static boolean isYaml(Path path) { return path.getFileName().toString().toLowerCase().endsWith("yml"); } public static boolean isImage(String name) { String[] extensions = {"jpg","jpeg","png","tiff","tif","gif","bmp"}; name = name.toLowerCase(); for (String ext : extensions) { if (name.endsWith(ext)) return true; } return false; } public static List<Path> listPaths(Path path) { File parent = path.toFile(); List<Path> paths = new LinkedList<Path>(); if (!parent.exists()) return null; for (File f : parent.listFiles()) { paths.add(f.toPath()); } return paths; } public static String calculateImageHash(Path path) throws IOException { FileInputStream fis = new FileInputStream(path.toFile()); String md5 = org.apache.commons.codec.digest.DigestUtils.md5Hex(fis); fis.close(); return md5; } 
